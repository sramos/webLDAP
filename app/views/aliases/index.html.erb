<% @current_page = t('domains.mail-aliases') %>
<% if @aliases.any? %>
  <table id="people-table" class="table table-hover data-table">
    <thead>
      <tr>
        <th><%= t("aliases.attribs.mail") %></th>
        <th><%= t("aliases.attribs.maildrop") %></th>
        <th>&nbsp;</th>
      </tr>
    </thead>
      <tbody>
        <% @aliases.each do |ali| %>
          <% show_url = domain_alias_path(@domain.id, ali.id) %>
          <% show_title = t('people.actions.show')%[ali.id] %>
          <tr data-href="<%= show_url %>">
            <td>
              <%= link_to(ali.mail, show_url, title: show_title) %>
            </td>
            <td>
              <%= ali.maildrop_as_string %>
            </td>
            <td class="text-right">
              <%= link_to icon('fa', 'edit'), edit_domain_alias_path(@domain.id, ali.id), title: t('aliases.actions.edit')%[ali.id] %>
              <%= link_to icon('fa', 'trash'), domain_alias_path(@domain.id, ali.id), method: :delete, title: t('aliases.actions.delete')%[ali.id] %>
            </td>
          </tr>
        </a>
        <% end %>
      </tbody>
  </table>
<% else %>
  <div class="row">
    <div class="col-md-12"><%= t('aliases.no-items') %></div>
  </div>
<% end %>

<div class="float-right mt-5">
  <%= link_to icon('fa', 'envelope', t('aliases.actions.new')), new_domain_alias_path(@domain.id), title: t('aliases.actions.new'), class: 'page-link' %>
</div>

<script>
  $('#people-table').on( 'click', 'tbody tr', function () {
    window.location.href = $(this).data('href');
  });
  $(document).ready(function() {
    $("#people-table").dataTable();
  });
</script
